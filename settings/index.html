<!doctype html>
<html>

<head>
    <!-- The '/homey.js' script must be included in your settings view to work -->
    <script type="text/javascript" src="/homey.js" data-origin="settings"></script>
    <style>
        fieldset legend, .hy-fieldset:not(.hy-nostyle) legend {
            font-size: 14px !important;
        }

        .spacer {
            display: block;
            margin: 60px auto;
        }

        .red {
            color: red !important;
            margin-bottom: 10px;
            display: block;
        }

        #interval_settings .row,
        #flows_overview .row, 
        #flows_settings .row {
            display: flex;
            justify-content: space-between;
            margin: 10px auto;
        }

        #flows_broken .row, 
        #flows_disabled .row, 
        #flows_broken_variable .row {
            display: flex;
            justify-content: space-between;
        }

        .fixed {
            background-color: white;
            border-top: 1px solid #1d1d1d;
            position: fixed;
            bottom: 0;
            right: 0;
            left: 0;
        }
    </style>
</head>

<body>
    <fieldset id="flows_settings">
        <legend data-i18n="settings.title"></legend>
        <div class="field row">
            <label for="notification_broken" data-i18n="settings.notification_broken"></label>
            <input id="notification_broken" type="checkbox" value="" />
        </div>
        <div class="field row">
            <label for="notification_disabled" data-i18n="settings.notification_disabled"></label>
            <input id="notification_disabled" type="checkbox" value="" />
        </div>
        <div class="field row">
            <label for="notification_broken_variable" data-i18n="settings.notification_broken_variable"></label>
            <input id="notification_broken_variable" type="checkbox" value="" />
        </div>

        <div class="field row">
            <label for="notification_unused_flows" data-i18n="settings.notification_unused_flows"></label>
            <input id="notification_unused_flows" type="checkbox" value="" />
        </div>

        <div class="field row">
            <label for="notification_unused_logic" data-i18n="settings.notification_unused_logic"></label>
            <input id="notification_unused_logic" type="checkbox" value="" />
        </div>
    </fieldset>
    <fieldset id="interval_settings">
        <legend data-i18n="settings.interval"></legend>
        <div class="field row">
            <label for="interval_enabled" data-i18n="settings.interval_enabled"></label>
            <input id="interval_enabled" type="checkbox" value="" onclick="showHide(this)" />
        </div>

        <div class="field row" id="interval_flows_row">
            <label for="interval_flows" data-i18n="settings.interval_flows"></label>
            <input id="interval_flows" type="number" min="3" step="1" value="" oninput="updateValue()" />
        </div>

        <div class="field row" id="interval_variables_row">
            <label for="interval_variables" data-i18n="settings.interval_variables"></label>
            <input disabled id="interval_variables" type="number" value="" />
        </div>
    </fieldset>

    <fieldset>
        <legend data-i18n="settings.flows_overview"></legend>
        <div class="field">
            <div id="flows_overview"></div>
        </div>
    </fieldset>

    <fieldset>
        <legend data-i18n="settings.flows_broken"></legend>
        <div class="field row">
            <div id="flows_broken"></div>
        </div>
    </fieldset>

    <fieldset>
        <legend data-i18n="settings.flows_disabled"></legend>
        <div class="field row">
            <div id="flows_disabled"></div>
        </div>
    </fieldset>

    <fieldset>
        <legend data-i18n="settings.flows_broken_variable"></legend>
        <div class="field row">
            <div id="flows_broken_variable"></div>
        </div>
    </fieldset>

    <fieldset>
        <legend data-i18n="settings.unused_flows"></legend>
        <label data-i18n="settings.unused_flows_description"></label>
        <div class="field row">
            <div id="flows_unused"></div>
        </div>
    </fieldset>

    <fieldset>
        <legend data-i18n="settings.unused_logic"></legend>
        <label data-i18n="settings.unused_logic_description"></label>
        <div class="field row">
            <div id="logic_unused"></div>
        </div>
    </fieldset>

    <div class="spacer">&nbsp;</div>

    <div class="row fixed">
        <p id="error" style="color: red;"></p>
        <p id="loading" style="color: #0000FF;"></p>
        <p id="success" style="color: #5fd225;"></p>
        <button id="save" class="right">Save</button>
        <button id="clear" class="left">Default settings</button>
    </div>
    
    <script src="./settings.js"></script>

</body>

</html>